@()(implicit request: RequestHeader, webjars: WebJarAssets)

@views.html.pages.layout(
  "Introductory Tutorial",
  "An introduction to Peripleo's most important features. Learn how to search, filter and navigate Peripleo's networked information space.",
  "pages/help/index.css"
) {
  <div class="sidebar">
    <div class="inner">
      <ul class="help-topics">
        <li>
          <a href="@controllers.pages.help.routes.HelpController.introduction">Introductory Tutorial</a>
          <ul class="sub-topics">
            <li><a href="#what-is-peripleo">What is Peripleo?</a></li>
            <li><a href="#ui-overview">User Interface Overview</a></li>
            <li><a href="#using-search">Using Search</a></li>
            <li><a href="#filter-panel">The Filter Panel</a></li>
            <li><a href="#datasets-at-a-glance">Datasets at a Glance</a></li>
            <li><a href="#navigating-connections">Connected Items</a></li>
          </ul>
        </li>
        <li><a href="@controllers.pages.help.routes.HelpController.entityAwareSearch">Entity-Aware Search</a></li>
        <!-- li><a href="@controllers.pages.help.routes.HelpController.relatedEntities">Exploring Related Entities</a></li -->
        <li><a href="@controllers.pages.help.routes.HelpController.linkedDataView">Linked Data View</a></li>
        <li><a href="@controllers.pages.help.routes.HelpController.embedWidget">Embed Widget</a></li>
      </ul>
    </div>
  </div>

  <div class="section">
    <div class="inner">
      <p>
        This tutorial will give you an overview of Peripleo's most important features.
        <strong>You will learn how to:</strong>
      </p>
      <ul>
        <li>Search for places, objects and other types of data</li>
        <li>Narrow down your search using filters</li>
        <li>See summary information about a whole dataset</li>
        <li>Explore Linked Data and connected information</li>
      </ul>

      <h2 id="what-is-peripleo">What is Peripleo?</h2>
      <p>
        Peripleo is a search engine to data maintained by partners of
        <a href="http://commons.pelagios.org" target="_blank">Pelagios Commons</a>, a Digital
        Humanities initiative aiming to foster better linkages between online resources
        documenting the past.
      </p>
      <p>
        The data you can find in Peripleo is quite diverse. Right now, most of our partners publish
        information about <strong>ancient places</strong> and <strong>physical objects</strong>,
        such as archaeological finds. But Pelagios Commons is growing, and we
        are beginning to include data about <strong>people</strong>, <strong>time periods</strong>,
        and even geo-tagged literature, or data transcribed from historic maps. The full list of
        datasets currently indexed is
        <a href="@controllers.pages.about.routes.AboutController.index">here</a>.
      </p>

      <h2 id="ui-overview">User Interface Overview</h2>
      <p>
        The image below shows Peripleo's main user interface components. Use the
        <strong>search box</strong> <span class="marker">1</span> to type your query. The search
        box includes a row of <strong>indicators</strong> <span class="marker">2</span> for
        currently active filters. You can apply filters through the <strong>filter
        panel</strong> <span class="marker">3</span>.
        Select an item from the <strong>result list</strong> <span class="marker">4</span> to
        see <strong>detail information</strong> <span class="marker">5</span> and, if available, a
        <strong>preview image</strong> <span class="marker">6</span>.
        The buttons in the upper right corner of the screen are the <strong>map controls</strong>
        <span class="marker">7</span>.
      </p>

      <p class="note">
        <strong>Note:</strong> some items include zoomable high-resolution preview images. If there
        is a <a href="http://iiif.io/" target="_blank">IIIF</a> logo in the corner, you can
        zoom into the image using your mousewheel or, on touch devices, a pinch gesture.
        Use the button in the lower left corner to switch to a full screen view.
      </p>

      <div class="ui-overview-map">
        <img src="@routes.Assets.versioned("images/help/tutorial/ui-overview.jpg")">
        <ul class="markers">
          <li class="marker m1" data-title="Search box">1</li>
          <li class="marker m2" data-title="Filter indicators">2</li>
          <li class="marker m3" data-title="Filter panel">3</li>
          <li class="marker m4" data-title="Result list">4</li>
          <li class="marker m5" data-title="Item details">5</li>
          <li class="marker m6" data-title="Preview image">6</li>
          <li class="marker m7" data-title="Map controls">7</li>
        </ul>
      </div>

      <h2 id="using-search">Using Search</h2>
      <p>
        Use the <strong>search box</strong> in the upper left corner to search by keyword. Peripleo
        will provide suggestions for search terms and specific records matching your query.
        Run the query by hitting enter or selecting a query suggestion; or pick one of the suggested
        results directly, by selecting it from the list. Use the <span class="char">X</span> icon
        to clear your current search.
      </p>

      <img src="@routes.Assets.versioned("images/help/tutorial/autocomplete.png")">

      <h3 id="search-syntax">Search syntax</h3>
      <p>
        Peripleo supports <strong>prefix</strong> as well as <strong>fuzzy</strong> search: append
        <span class="char">*</span> to find everything that starts with the given search term; or
        append <span class="char">~</span> to include approximate matches (i.e. those that differ
        by a few characters). Use <strong>AND</strong> or <strong>OR</strong> uppercase
        keywords to construct boolean queries, or quote your search with
        <span class="char">&quot;</span> to force exact phrase matches.
      </p>

      <h3 id="colour-coding">Colour coding</h3>
      <p>
        Throughout the interface, search results are coded based on their item type, using colour
        and symbol:
      </p>
      <ul class="symbology">
        <li><span class="symbol place">&#xf041;</span> Places</li>
        <li><span class="symbol object">&#xf219;</span> Objects</li>
        <li><span class="symbol period">&#xf017;</span> Time periods</li>
        <li><span class="symbol person">&#xf007;</span> People</li>
        <li><span class="symbol dataset">&#xf187;</span> Datasets</li>
      </ul>

      <h3 id="map-control">Controlling the Map</h3>
      <p>
        Move the map by dragging and releasing it. Zoom using your mousewheel or the
        <span class="char">+</span> <span class="char">-</span> buttons in the upper
        right corner. On touch devices you can also use a &quot;pinch&quot; gesture.
        You can switch between different base layers using the
        <span class="char icon">&#xf0c9;</span> button.
      </p>

      <h2 id="filter-panel">The Filter Panel</h2>
      <p>
        After running a search, you can narrow down your results by using filters. Click
        the downward arrow at the bottom of the search box. This will
        unfold the <strong>filter panel</strong>. The most prominent part of the filter
        panel is the <strong>time histogram</strong>. It shows how your search results are
        distributed over time.
      </p>

      <img src="@routes.Assets.versioned("images/help/tutorial/filterpanel.gif")">

      <h3 id="filter-by-time">To filter by time</h3>
      <p>
        Grab and drag the handles on the time histogram. A clock icon
        <span class="char icon">&#xf017;</span> in the search box indicates
        that you have now set a time filter. (Otherwise, it's easy to forget
        once you have closed the filter panel again!)
      </p>

      <p class="note">
        <strong>Note:</strong> unfortunately, not all records in Peripleo are dated. Only those
        that are will surface in the time histogram. Setting a time filter will exclude all undated
        records.
      </p>

      <h3 id="filter-by-source">To filter by data source</h3>
      <p>
        Click the <strong>sources</strong> facet. Pick one of the data sources from the list
        in order to restrict your search to this dataset only.
      </p>

      <p class="note">
        <strong>Note:</strong> we will be introducing additional facet filters over time, which
        will work exactly the same way. For the time being, however, the data source facet is
        the only one that is functional.
      </p>

      <h3 id="filter-by-type">To filter by item type</h3>
      <p>
        The coloured bar above the time histogram illustrates how your results are
        distributed across different <strong>item types</strong>. Often, the bar will have a
        single colour. That means that all of your results are of the same type. E.g. a search for
        <a href="@controllers.routes.ApplicationController.ui()#q=tetradrachm&filters=true">tetradrachm</a>
        will likely return only object records <span class="symbol object">&#xf219;</span> while a
        search for
        <a href="@controllers.routes.ApplicationController.ui()#q=fortress&filters=true">fortress</a>
        returns places <span class="symbol place">&#xf041;</span>.
      </p>

      <img class="rounded" src="@routes.Assets.versioned("images/help/tutorial/typefilter.gif")">

      <p>
        Other searches will lead to a mix of places, people, objects, etc.
        Click the bar. The panel shifts to reveal detail numbers for how
        many of your search results fall into which item type category. Click one of them.
        This narrows down your search to the results of only this type. Again, an indicator
        in the search box reminds you of the active item type filter.
      </p>

      <h3 id="filter-by-viewport">To filter by map viewport</h3>
      <p>
        <img class="float right" src="@routes.Assets.versioned("images/help/tutorial/bboxfilter.png")">
        Click the filter icon located at the top right corner of the screen, right above
        the map zoom buttons. This will toggle the viewport filter. If active, your
        search is restricted to only those results that <strong>intersect the map area</strong> you
        are currently viewing.
      </p>

      <h2 id="datasets-at-a-glance">Datasets at a Glance</h2>
      <p>
        Instead of starting your journey through Peripleo from a place or object, you
        can also start from a specific dataset. Let's try the
        <a href="@controllers.routes.ApplicationController.ui()#selected=http%3A%2F%2Fgams.uni-graz.at">University
        of Graz Collections</a> for example.
      </p>

      <img src="@routes.Assets.versioned("images/help/tutorial/dataset-overview.jpg")">

      <p>
        Datasets appear in search results just like any other type of item.
        However, behavior is slightly different when you select one.
        Selecting a dataset (either from the result list, or from the list of autocomplete
        options) will automatically switch to a filtered search. That means Peripleo will:
      </p>

      <ul>
        <li>list all results contained within this dataset</li>
        <li>show their geographical footprint on the map</li>
        <li>display their temporal profile in the time histogram</li>
      </ul>
      <p>
        As usual, the search box shows an indicator to remind you of the active dataset filter.
        You can use all other available filter types to narrow down your search further, or
        enter a new query to find specific data inside this dataset.
      </p>

      <h2 id="navigating-connections">Navigating Connected Information</h2>
      <p>
        Once you become more familiar with Peripleo, you will notice that it works slightly different
        than other map-based search interfaces you may have used before. The key difference is
        that <strong>data in Peripleo is networked</strong>. That means items are internally
        connected through links.
      </p>

      <p>
        One major consequence is how the map works: <strong>one dot on the map is not always the
        same as one search result.</strong> Instead, one dot may represent <strong>many
        results</strong> connected to the same place. (The dot size will give you a hint.) Vice
        versa, <strong>one result can appear as many dots</strong>. E.g. think of an archaeological
        artefact, which might be linked to a findspot as well as a place of production. Or a work
        of literature, which might contain references to hundreds of places!
      </p>

      <img class="no-border" src="@routes.Assets.versioned("images/help/tutorial/links-place.png")">

      <p>
        Whenever there are links to follow, Peripleo tells you at the bottom of the detail
        information window. For example, select a place, and you can see how many items are
        connected to it. Click the link to enter a filtered search that shows just these
        items. As usual, you can narrow down the search further with other filter options.
      </p>

      <p>
        In a similar way, selecting an object will tell you what the top places are that the object
        is linked to, along with information about how much else data is available there, given
        your current search query and filter setting.
      </p>

      <p class="note">
        <strong>Note:</strong> when following along these network paths, remember that you can
        use your browser back button to return to previous stops along your journey.
      </p>

      <h2>Congratulations!</h2>
      <p>
        You have successfully made your way through the introductory tutorial, and know how to
        use the most important features. Do also check out our advanced tutorials on
        Peripleo's extended features:
      </p>
      <ul>
        <li><a href="@controllers.pages.help.routes.HelpController.entityAwareSearch">Using Entity-Aware Search to explore geo-tagged literature</a></li>
        <!-- li><a href="@controllers.pages.help.routes.HelpController.relatedEntities">Exploring related entities</a></li -->
        <li><a href="@controllers.pages.help.routes.HelpController.linkedDataView">Understanding the Linked Data View</a></li>
      </ul>
    </div>
  </div>

  <script src="@routes.WebJarAssets.at(webjars.locate("require.min.js"))" data-main="@routes.Assets.versioned("javascripts/pages/help/tutorial.js")"></script>
}
